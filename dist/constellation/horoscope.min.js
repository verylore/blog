!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)}).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?o.credentials="include":"anonymous"===e.crossOrigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}();const e=[{key:"aries",ko:"양자리",ico:"♈",period:"3.21~4.19"},{key:"taurus",ko:"황소자리",ico:"♉",period:"4.20~5.20"},{key:"gemini",ko:"쌍둥이자리",ico:"♊",period:"5.21~6.21"},{key:"cancer",ko:"게자리",ico:"♋",period:"6.22~7.22"},{key:"leo",ko:"사자자리",ico:"♌",period:"7.23~8.22"},{key:"virgo",ko:"처녀자리",ico:"♍",period:"8.23~9.22"},{key:"libra",ko:"천칭자리",ico:"♎",period:"9.23~10.22"},{key:"scorpio",ko:"전갈자리",ico:"♏",period:"10.23~11.22"},{key:"sagittarius",ko:"사수자리",ico:"♐",period:"11.23~12.21"},{key:"capricorn",ko:"염소자리",ico:"♑",period:"12.22~1.19"},{key:"aquarius",ko:"물병자리",ico:"♒",period:"1.20~2.18"},{key:"pisces",ko:"물고기자리",ico:"♓",period:"2.19~3.20"}];let o={love:["마음의 여유가 대화를 부드럽게 만듭니다.","기대치보다 솔직함이 더 큰 힘을 발휘합니다.","우연한 메시지가 좋은 신호가 됩니다.","관심 표현은 작게, 그러나 분명하게.","그린라이트는 디테일에 숨어 있습니다."],work:["우선순위를 명확히 하면 속도가 붙습니다.","작은 성과를 기록으로 남기면 협업이 유리합니다.","회의 전 메모 5줄이 결과를 바꿉니다.","새로운 도구를 시험해 볼 가치가 있습니다.","집중 시간대에 핵심 업무를 배치하세요."],money:["충동구매 대신 찜 목록으로 시간을 벌어보세요.","낡은 구독 하나를 정리할 때입니다.","작은 절약이 큰 선택의 자유를 만듭니다.","가격이 아닌 사용 빈도를 기준으로 판단하세요.","현금흐름 캘린더를 점검하면 마음이 가벼워집니다."],health:["수분 섭취와 가벼운 스트레칭으로 리듬을 되찾습니다.","저녁엔 화면 밝기를 낮춰 휴식을 준비하세요.","가벼운 산책이 생각을 정리해 줍니다.","허리를 곧게, 어깨의 긴장을 풀어주세요.","음식 기록이 컨디션의 힌트를 줍니다."],tips:["작게 시작하면 마음이 움직입니다.","오전에 중요한 연락을 먼저 시도하세요.","정리한 책상에서 좋은 아이디어가 나옵니다.","잠깐의 휴식이 긴 집중을 만듭니다.","감사의 한마디가 상황을 바꿉니다."],colors:[{hex:"#25D0A9",name:"터쿠아즈"},{hex:"#7C8CFF",name:"라벤더 블루"},{hex:"#FFB84D",name:"골든 옐로우"},{hex:"#FF6B6B",name:"코랄 핑크"},{hex:"#6B8CFF",name:"스카이 블루"},{hex:"#9B59B6",name:"퍼플"},{hex:"#2ECC71",name:"에메랄드 그린"},{hex:"#E67E22",name:"오렌지"},{hex:"#1ABC9C",name:"민트 그린"},{hex:"#F39C12",name:"앰버"},{hex:"#E84393",name:"로즈 핑크"},{hex:"#00BCD4",name:"아쿠아 블루"}]};const t=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},n=(e,o)=>o[Math.floor(e()*o.length)],r=(e,o,t)=>Math.max(o,Math.min(t,e)),c="horoscope.daily.v1";function i(e){localStorage.setItem(c,JSON.stringify(e))}const a=document.getElementById("sign-grid"),s=document.getElementById("result-card"),u=document.getElementById("res-ico"),d=document.getElementById("res-title"),l=document.getElementById("res-period"),m=document.getElementById("res-date"),h=document.getElementById("res-meter"),k=document.getElementById("res-color-chip"),y=document.getElementById("res-color-text"),f=document.getElementById("res-number"),p=document.getElementById("res-love"),g=document.getElementById("res-work"),v=document.getElementById("res-money"),$=document.getElementById("res-health"),w=document.getElementById("res-tip"),x=document.getElementById("btn-reroll"),b=document.getElementById("btn-share"),M=document.getElementById("btn-copy-color");function C(c,i=0){const a=t(),s=function(e){let o=e>>>0;return function(){o+=1831565813;let e=Math.imul(o^o>>>15,1|o);return e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}(function(e){let o=2166136261;for(let t=0;t<e.length;t++)o^=e.charCodeAt(t),o=Math.imul(o,16777619);return o>>>0}(a+"|"+c)+i),u=s(),d=u<.55?"pos":u<.85?"mid":"caut";let l=Math.floor(100*s());"pos"===d?l=r(l+15,52,98):"caut"===d&&(l=r(l-10,25,75));const m=l,h=n(s,o.love),k=n(s,o.work),y=n(s,o.money),f=n(s,o.health),p=n(s,o.tips),g=n(s,o.colors),v=1+Math.floor(9*s()),$=e.find(e=>e.key===c);return{date:a,signKey:c,signKo:$.ko,ico:$.ico,period:$.period,luck:m,colorHex:g.hex,colorName:g.name,number:v,love:h,work:k,money:y,health:f,tip:p}}function F(e){u.textContent=e.ico,d.textContent=e.signKo,l.textContent=e.period,m.textContent=e.date,h.style.setProperty("--deg",`${Math.round(e.luck/100*360)}deg`),h.setAttribute("data-val",e.luck),e.colorHex&&e.colorName?(k.style.background=e.colorHex,y.textContent=e.colorName):e.color&&(k.style.background=e.color,y.textContent=e.color),f.textContent=e.number,p.textContent=e.love,g.textContent=e.work,v.textContent=e.money,$.textContent=e.health,w.textContent=e.tip,s.hidden=!1}document.getElementById("year").textContent=(new Date).getFullYear();let B=null,S=0;x.addEventListener("click",()=>{if(!B)return;S+=101;const e=C(B.signKey,S);B=e,i({date:e.date,signKey:B.signKey,result:e}),F(e)}),b.addEventListener("click",async()=>{if(!B)return;const e=B.colorName||B.color||"미정",o=`오늘의 ${B.signKo} 운세 (${B.date})\n총운 ${B.luck}점 · 럭키컬러 ${e} · 럭키넘버 ${B.number}\n한 줄 조언: ${B.tip}`;try{navigator.share?await navigator.share({title:"오늘의 별자리 운세",text:o}):(await navigator.clipboard.writeText(o),alert("공유 문구를 클립보드에 복사했습니다."))}catch(t){await navigator.clipboard.writeText(o),alert("공유 문구를 클립보드에 복사했습니다.")}}),M.addEventListener("click",async()=>{if(B)try{let e;e=B.colorName&&B.colorHex?`${B.colorName} (${B.colorHex})`:B.color?B.color:"럭키컬러 정보 없음",await navigator.clipboard.writeText(e),alert("럭키컬러가 복사되었습니다.")}catch(e){alert("복사 권한이 거부되어 럭키컬러를 선택해 직접 복사하세요.")}}),async function(){await async function(){try{const e=await fetch("horoscope-data.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return t.fortunes&&(o.love=t.fortunes.love||o.love,o.work=t.fortunes.career||o.work,o.money=t.fortunes.money||o.money,o.health=t.fortunes.health||o.health,o.tips=t.fortunes.general||o.tips),t.moods&&(o.moods=t.moods),t.adjectives&&(o.adjectives=t.adjectives),!0}catch(e){return!1}}(),a.innerHTML="",e.forEach(e=>{const o=document.createElement("button");o.className="card sign",o.setAttribute("aria-label",`${e.ko} 운세 보기`),o.innerHTML=`\n      <div class="ico" aria-hidden="true">${e.ico}</div>\n      <div class="nm">${e.ko}</div>\n      <div class="dt">${e.period}</div>\n    `,o.addEventListener("click",()=>function(e){S=0;const o=C(e,0);B=o,i({date:o.date,signKey:e,result:o}),F(o)}(e.key)),a.appendChild(o)});const n=function(){try{return JSON.parse(localStorage.getItem(c)||"null")}catch(e){return null}}(),r=t();n&&n.date===r&&n.result&&(B=n.result,F(n.result))}();
